(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1298:function(t,e,r){var content=r(1354);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(62).default)("751c3064",content,!0,{sourceMap:!1})},1312:function(t,e,r){"use strict";r.r(e);var l={props:{chartId:"",chartTitle:"",dataLegned:{default:function(){return[]},type:Array},dataKey:{default:function(){return[]},type:Array},data:{default:function(){return[]},type:Array}},data:function(){return{}},mounted:function(){this.lineChart()},created:function(){},methods:{lineChart:function(){var t=document.getElementById(this.chartId);this.$echarts.init(t).setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!0,data:this.dataLegned},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"category",data:this.dataKey,axisLabel:{interval:0,formatter:function(t){var e=t;return t&&t.length>=5&&(e=e.substr(0,4)+"..."),e}}},xAxis:{type:"value",minInterval:1},dataZoom:[{type:"slider",yAxisIndex:0,orient:"vertical",filterMode:"empty",startValue:0,endValue:this.dataKey.length-6,borderColor:"transparent",handleSize:0,showDetail:!1}],series:this.data},!0)}},watch:{data:function(t,e){this.lineChart()}}},n=r(45),component=Object(n.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{height:"100%"},attrs:{id:this.chartId}})}),[],!1,null,"3fdd64c8",null);e.default=component.exports},1353:function(t,e,r){"use strict";var l=r(1298);r.n(l).a},1354:function(t,e,r){(e=r(61)(!1)).push([t.i,".header-title-block[data-v-52bcee9c]{height:60px;line-height:60px;width:100%}.content-block[data-v-52bcee9c]{border-top-left-radius:15px;border-top-right-radius:15px;background:#fff;width:100%}.app-title-border-tag[data-v-52bcee9c]{width:5px;height:30px;background:#1ea084;display:inline-block}.notice-list-item[data-v-52bcee9c]{height:45px;line-height:45px}.info-block-left[data-v-52bcee9c]{width:50%;border-right:1px solid #f2f6fc}.info-block-right[data-v-52bcee9c]{margin-left:0;height:100%}.info-block-header[data-v-52bcee9c]{height:45px;line-height:45px;font-size:14px;color:#909399;background:#e9e9e9}.moon-left-menu-tag[data-v-52bcee9c]{position:absolute;top:0;bottom:0;display:flex;left:50%;transition:all .2s ease-in-out;z-index:99}.moon-left-menu-tag .moon-left-menu-tag-container[data-v-52bcee9c]{width:100%;height:100%;display:flex;align-items:center;cursor:pointer}.moon-left-menu-tag .moon-left-menu-tag_indicator[data-v-52bcee9c]{margin-top:-44.5px;width:15px;height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#ebeef5;border-radius:0 4px 4px 0;border:1px solid #e5e5e5;border-left-color:transparent;opacity:1;transition-duration:.2s;transition-timing-function:ease-in-out;color:#ddd;padding-right:2px}.moon-left-menu-tag_indicator[data-v-52bcee9c]:hover{background:#a0cfff;color:#fff}.moon-left-toogle-menu[data-v-52bcee9c]{border-right:0 solid #dcdee2;float:left;box-shadow:2px 0 4px #bbb;position:relative;background:#f2f2f2;background-image:linear-gradient(180deg,#f2f2f2,#f2f2f2);padding:0;position:fixed;transition:all .2s ease-in-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:99}.icon-class-left[data-v-52bcee9c]{color:#ddd;transform:rotate(0deg)}.icon-class-right[data-v-52bcee9c]{transform:rotate(180deg)}",""]),t.exports=e},1398:function(t,e,r){"use strict";r.r(e);r(267);var l=r(200),n=r(22),o=r(129),c={name:"appIndex",components:{HBarChart:r(1312).default},layout:"defaultAppScreen",mixins:[o.a],data:function(){return{active:6,serverAppList:[],noticeAppList:[],defaultMenuActive:"",isCollapse:!1,showBottom:!1,departmentPath:"",leftHeight:{height:"100%",width:"0%"},toggleTag:{left:"0"},formList:[],formValue:"",serchName:"",showCalendar:!1,dateTime:"",searchDept:[],searchCollege:[],minDate:new Date(2020,0,1),maxDate:new Date(2030,12,1),timeData:[],searchData:[],startTime:"",endTime:"",collegeId:"",majorId:"",grandId:"",classId:"",fliterType:"",cardLabel1:"",cardValue1:"",cardLabel2:"",cardValue2:"",cardLabel3:"",cardValue3:"",cardLabel4:"",cardValue4:"",circleLabel:"",circleValue:0,circleValueText:"",circleParams:"",barLabel:"",barValue:"",barDataLegned:[],barDataKey:[],barData:[],barParams:""}},mounted:function(){this.$nextTick((function(){}))},created:function(){this.active=this.$route.query.activeType?this.$route.query.activeType:6,this.getDeptInfo(2),this.getCollegeInfo(4),this.initForm()},methods:{layoutInit:function(){},initForm:function(){var t=this;this.$axios.get(n.a.static_appinfo_form_page,{params:{page:1,num:9999}}).then((function(e){if(e.data.data){for(var r=[],i=0;i<e.data.data.list.length;i++)r.push({label:e.data.data.list[i].stat_name,value:e.data.data.list[i].id+""});r.length>0&&(t.formValue=e.data.data.list[0].id+"",t.initFormDetail(e.data.data.list[0].id)),t.formList=r}}))},initFormDetail:function(t){var e=this,r={id:t};this.$axios.get(n.a.static_appinfo_form_detail,{params:r}).then((function(t){if(t.data.data){for(var r=[],i=0;i<t.data.data.unitList.length;i++)r.push({id:t.data.data.unitList[i].id,relaFromField1:t.data.data.unitList[i].relaFromField1,relaFromField2:t.data.data.unitList[i].relaFromField2,filterType:t.data.data.unitList[i].filterType,filterRules:t.data.data.unitList[i].filterRules,unitName:t.data.data.unitList[i].unitName});e.fliterType=t.data.data.unitList[0].filterType,e.initData(r[1].id,1,r),e.initData(r[2].id,2,r),e.initData(r[3].id,3,r),e.initData(r[4].id,4,r),e.initData(r[6].id,5,r),e.initData(r[5].id,6,r)}}))},initData:function(t,e,r){var l=this,o={unitId:t};""!=this.startTime&&""!=this.endTime&&(o.date1=this.startTime,o.date2=this.endTime),1==this.fliterType&&this.searchData.length>0?o.deptId=this.searchData:2==this.fliterType&&this.searchData.length>0&&(o.collegeId=this.searchData),this.$axios.get(n.a.static_appinfo_form_info,{params:o}).then((function(t){if(t.data.data)switch(e){case 1:JSON.parse(r[1].relaFromField1);var n=r[1].unitName;l.cardLabel1=n.length>15?n.substr(0,14)+"...":n,l.cardValue1=null!=t.data.data.dataResult?t.data.data.dataResult:"--";break;case 2:JSON.parse(r[2].relaFromField1);var o=r[2].unitName;l.cardLabel2=o.length>15?o.substr(0,14)+"...":o,l.cardValue2=null!=t.data.data.dataResult?t.data.data.dataResult:"--";break;case 3:JSON.parse(r[3].relaFromField1);var c=r[3].unitName;l.cardLabel3=c.length>15?c.substr(0,14)+"...":c,l.cardValue3=null!=t.data.data.dataResult?t.data.data.dataResult:"--";break;case 4:JSON.parse(r[4].relaFromField1);var d=r[4].unitName;l.cardLabel4=d.length>15?d.substr(0,14)+"...":d,l.cardValue4=null!=t.data.data.dataResult?t.data.data.dataResult:"--";break;case 5:var h=JSON.parse(r[6].relaFromField1)[0].n,f=null!=t.data.data.rate?parseInt(t.data.data.rate):0;l.circleParams=r[6].unitName,l.circleLabel=h.length>6?h.substr(0,5)+"...":h,l.circleValue=f,l.circleValueText=null!=t.data.data.rate?t.data.data.rate+"%":"--";break;case 6:for(var data=t.data.data,m=r[5].relaFromField2?JSON.parse(r[5].relaFromField2):[],v=(r[5].filterType,[]),y=[],x=[],_=[],i=0;i<m.length;i++)v.push(m[i].n),x.push({n:m[i].n,f:m[i].f});for(var C=0;C<data.length;C++){y.push(data[C]._name);var D=[],T=[],w={};for(var L in data[C])for(var S=0;S<x.length;S++)if(x[S].f+"DateResult"==L){var k=data[C][L],V=x[S].n;D.push(k),w={name:V,type:"bar",barWidth:15,data:[]},T.push(w)}w.data=D;for(var F=0;F<T.length;F++)T[F].data=D;_=T}l.barParams=r[5].unitName,l.barData=_,l.barDataKey=y,l.barDataLegned=v}}))},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},formatDate2:function(t){return"".concat(t.getMonth()+1,"/").concat(t.getDate())},selTime:function(){this.showCalendar=!0},activeTabMenu:function(t){this.noticeAppList=[],this.serverAppList=[],this.serchName="",5==t?this.$router.push({path:"/app/appMyNotice",query:{id:parseInt(t),userType:this.loginUserAppType,navH:this.navHeight,appType:this.globalAppShow}}):6==t?(this.active=t,this.initAppRecommend()):(this.active=t,this.initAppServer())},returnIndex:function(){this.$router.push({path:this.$route.query.page?this.$route.query.page:"/app/appIndex",query:{activeType:6,userType:this.loginUserAppType,navH:this.navHeight,appType:this.globalAppShow,sessionId:this.$route.query.sessionId}})},dropdownItem:function(t){this.formValue=t,this.initFormDetail(t)},onConfirm:function(t){var e=Object(l.a)(t,2),r=e[0],n=e[1];this.dateTime="".concat(this.formatDate2(r)," - ").concat(this.formatDate2(n)),this.startTime="".concat(this.formatDate(r)),this.endTime="".concat(this.formatDate(n)),this.initFormDetail(this.formValue),this.showCalendar=!1},selSearch:function(){this.showBottom=!0},searchTop:function(t){this.searchDept=[],this.searchCollege=[],this.searchData=t.length>0?JSON.stringify(t):"",1==this.fliterType?this.searchDept=t:2==this.fliterType&&(this.searchCollege=t),this.initFormDetail(this.formValue)},clearTime:function(){this.dateTime="",this.startTime="",this.endTime="",this.searchData=[],this.searchCollege=[],this.searchCollege=[],this.resetCasadeSelector("SelectorCollege"),this.resetCasadeSelector("SelectorDept"),this.initFormDetail(this.formValue)}}},d=(r(1353),r(45)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{class:4==t.loginUserAppType?"bg-app-success_teacher":"bg-app-success",style:{height:t.navHeight+"px"}}),t._v(" "),r("div",{staticClass:"header-title-block",class:4==t.loginUserAppType?"bg-app-success_teacher":"bg-app-success"},[r("van-row",[r("van-col",{attrs:{span:"5"}},[r("div",{staticClass:"text-left padding-lr-10 color-white"},[r("span",{staticClass:"font-bold font-size-14",on:{click:t.returnIndex}},[r("i",{staticClass:"fa fa-chevron-left"}),t._v("\n            "+t._s(t.$t("返回"))+"\n          ")])])]),t._v(" "),r("van-col",{staticClass:"text-center",attrs:{span:"14"}},[r("span",{staticClass:"color-white font-size-14 font-bold"},[t._v(t._s(t.$t("我的统计")))])]),t._v(" "),r("van-col",{attrs:{span:"5"}},[t._v("\n         \n      ")])],1)],1),t._v(" "),r("div",{staticClass:"content-block"},[r("form",{attrs:{action:"/"}},[r("div",{staticStyle:{background:"#f5f5f5",height:"40px"}},[r("van-row",[r("van-col",{staticClass:"text-left",attrs:{span:8}},[r("el-select",{staticClass:"margin-left-10",staticStyle:{"margin-top":"5px"},attrs:{size:"small",placeholder:"请选择表单"},on:{change:t.dropdownItem},model:{value:t.formValue,callback:function(e){t.formValue=e},expression:"formValue"}},t._l(t.formList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),r("van-col",{staticClass:"text-right padding-lr-10",attrs:{span:16}},[1==t.fliterType?r("van-button",{staticClass:"layout-item",staticStyle:{"margin-top":"5px"},attrs:{size:"small",type:"warning",plain:"","native-type":"button"},on:{click:t.selSearch}},[t._v(t._s(t.$t("选择部门")))]):t._e(),t._v(" "),2==t.fliterType?r("van-button",{staticClass:"layout-item",staticStyle:{"margin-top":"5px"},attrs:{size:"small",type:"warning",plain:"","native-type":"button"},on:{click:t.selSearch}},[t._v(t._s(t.$t("选择院系")))]):t._e(),t._v(" "),r("van-button",{staticClass:"layout-item",staticStyle:{"margin-top":"5px"},attrs:{size:"small",type:"default",plain:"","native-type":"button"},on:{click:t.selTime}},[r("span",[t._v(t._s(""==t.dateTime?t.$t("选择时间"):t.dateTime))])]),t._v(" "),""!=t.dateTime||t.searchData.length>0?r("span",{staticClass:"fa fa-times-circle color-muted margin-left-5 font-size-14",staticStyle:{position:"relative",top:"5px"},on:{click:t.clearTime}}):t._e()],1)],1)],1)]),t._v(" "),r("div",{staticClass:"detail-card padding-lr-10 margin-top-10",staticStyle:{position:"relative"},style:t.divHeight9},[r("el-card",{staticStyle:{height:"150px"},attrs:{"body-style":{padding:"10px"}}},[r("div",{staticStyle:{height:"75px",width:"100%"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"text-left padding-lr-5"},[r("div",[r("span",{staticClass:"font-size-14 font-bold"},[t._v(t._s(""!=t.cardLabel1?t.cardLabel1:"--"))])]),t._v(" "),r("div",{staticClass:"margin-top-5"},[r("span",{staticClass:"font-size-12 color-muted"},[t._v(t._s(""!==t.cardValue1?t.cardValue1:"--"))])])])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"text-right padding-lr-5"},[r("div",[r("span",{staticClass:"font-size-14 font-bold"},[t._v(t._s(""!=t.cardLabel2?t.cardLabel2:"--"))])]),t._v(" "),r("div",{staticClass:"margin-top-5"},[r("span",{staticClass:"font-size-12 color-muted"},[t._v(t._s(""!==t.cardValue2?t.cardValue2:"--"))])])])])],1)],1),t._v(" "),r("div",{staticStyle:{height:"75px",width:"100%"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"text-left padding-lr-5"},[r("div",[r("span",{staticClass:"font-size-14 font-bold"},[t._v(t._s(""!=t.cardLabel3?t.cardLabel3:"--"))])]),t._v(" "),r("div",{staticClass:"margin-top-5"},[r("span",{staticClass:"font-size-12 color-muted"},[t._v(t._s(""!==t.cardValue3?t.cardValue3:"--"))])])])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"text-right padding-lr-5"},[r("div",[r("span",{staticClass:"font-size-14 font-bold"},[t._v(t._s(""!=t.cardLabel4?t.cardLabel4:"--"))])]),t._v(" "),r("div",{staticClass:"margin-top-5"},[r("span",{staticClass:"font-size-12 color-muted"},[t._v(t._s(""!==t.cardValue4?t.cardValue4:"--"))])])])])],1)],1)]),t._v(" "),r("el-card",{staticStyle:{height:"240px","margin-top":"20px"},attrs:{"body-style":{padding:"10px"}}},[r("div",{staticClass:"text-left"},[r("span",{staticClass:"color-muted font-size-12"},[t._v(t._s(t.circleParams))])]),t._v(" "),r("div",{staticClass:"text-center;",staticStyle:{height:"240px",width:"100%"}},[r("div",{staticClass:"text-center"},[r("el-progress",{attrs:{type:"dashboard",width:160,"show-text":!1,percentage:t.circleValue}})],1),t._v(" "),r("div",{staticClass:"text-center font-size-12 font-bold",staticStyle:{position:"relative",top:"-90px"}},[r("span",[t._v(t._s(""!=t.circleValueText?t.circleValueText:"--"))])]),t._v(" "),r("div",{staticClass:"text-center color-muted",staticStyle:{position:"relative",top:"-10px"}},[r("div",[r("span",[t._v(t._s(""!=t.circleLabel?t.circleLabel:"--"))])])])])]),t._v(" "),r("el-card",{staticStyle:{height:"480px","margin-top":"20px"},attrs:{"body-style":{padding:"10px"}}},[r("div",{staticClass:"text-left"},[r("span",{staticClass:"color-muted font-size-12"},[t._v(t._s(t.barParams))])]),t._v(" "),r("div",{staticClass:"text-center;",staticStyle:{height:"440px",width:"100%"}},[r("h-bar-chart",{attrs:{"chart-id":"barId","data-legned":t.barDataLegned,"data-key":t.barDataKey,data:t.barData}})],1)])],1)]),t._v(" "),r("van-calendar",{attrs:{type:"range","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onConfirm},model:{value:t.showCalendar,callback:function(e){t.showCalendar=e},expression:"showCalendar"}}),t._v(" "),r("van-popup",{staticClass:"custom-cascader",style:{height:"350px"},attrs:{round:"",position:"bottom"},model:{value:t.showBottom,callback:function(e){t.showBottom=e},expression:"showBottom"}},[1==t.fliterType?r("el-cascader-panel",{ref:"SelectorDept",style:{height:"350px"},attrs:{props:{multiple:!0},options:t.dataDept},on:{change:t.searchTop},model:{value:t.searchDept,callback:function(e){t.searchDept=e},expression:"searchDept"}}):t._e(),t._v(" "),2==t.fliterType?r("el-cascader-panel",{ref:"SelectorCollege",style:{height:"350px"},attrs:{props:{multiple:!0},options:t.dataCollege},on:{change:t.searchTop},model:{value:t.searchCollege,callback:function(e){t.searchCollege=e},expression:"searchCollege"}}):t._e()],1)],1)}),[],!1,null,"52bcee9c",null);e.default=component.exports;installComponents(component,{HBarChart:r(1312).default})}}]);