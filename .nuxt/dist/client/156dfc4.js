(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1262:function(e,t,n){"use strict";var r=n(52),o=n(36),l=n(264),c=n(78),d=n(56),f=n(99),v=n(719),m=n(208),h=n(37),_=n(265),y=n(209).f,N=n(98).f,w=n(63).f,x=n(720).trim,T=o.Number,$=T.prototype,k="Number"==f(_($)),I=function(e){var t,n,r,o,l,c,d,code,f=m(e,!1);if("string"==typeof f&&f.length>2)if(43===(t=(f=x(f)).charCodeAt(0))||45===t){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(c=(l=f.slice(2)).length,d=0;d<c;d++)if((code=l.charCodeAt(d))<48||code>o)return NaN;return parseInt(l,r)}return+f};if(l("Number",!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var S,O=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof O&&(k?h((function(){$.valueOf.call(n)})):"Number"!=f(n))?v(new T(I(t)),n,O):I(t)},R=r?y(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;R.length>L;L++)d(T,S=R[L])&&!d(O,S)&&w(O,S,N(T,S));O.prototype=$,$.constructor=O,c(o,"Number",O)}},1263:function(e,t,n){"use strict";n(161),n(7),n(22),n(47);t.a={data:function(){return{testLogin:"",value:"",testDefault:"",navHeight:0,globalAppShow:"",isAndroid:!1,isIos:!1}},mounted:function(){this.getUrl(),this.initBridage()},created:function(){},methods:{getUrl:function(){this.loginUserAppType=this.$route.query.userType,this.navHeight=this.$route.query.navH?this.$route.query.navH:0,this.globalAppShow=this.$route.query.appType},returnGlobalMain:function(e){"android"==this.globalAppShow&&this.setupWebViewJavascriptBridge((function(t){t.callHandler("returnGlobalMain",{key:e},(function(e){}))})),"ios"==this.globalAppShow&&this.setupWebViewJavascriptBridge((function(t){t.callHandler("returnGlobalMain",{key:e},(function(e){}))}))},setupWebViewJavascriptBridge:function(e){if("android"==this.globalAppShow)window.WebViewJavascriptBridge?e(window.WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(window.WebViewJavascriptBridge)}),!1);else if("ios"==this.globalAppShow){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout((function(){document.documentElement.removeChild(t)}),0)}},initBridage:function(){var e=this;try{this.setupWebViewJavascriptBridge((function(t){"android"==e.globalAppShow&&t.init((function(e,t){t({"Javascript Responds":"Wee!"})}))}))}catch(e){}}}}},1264:function(e,t,n){"use strict";n.r(t);n(1262);var r,o=n(130),l=n(47),c={name:"mySex",props:(r={sex:{default:0,type:[String,Number]},tag:{default:"tag",validate:function(e){return Object(l.f)(e,["tag","text"])}},size:{defalult:"medium",validate:function(e){return Object(l.f)(e,["large","medium","small","mini"])}}},Object(o.a)(r,"size",{defalult:"medium",validate:function(e){return Object(l.f)(e,["large","medium","small","mini"])}}),Object(o.a)(r,"type",{defalult:"",validate:function(e){return Object(l.f)(e,["success","info","warning","danger"])}}),Object(o.a)(r,"effect",{defalult:"light",validate:function(e){return Object(l.f)(e,["dark","light","plain"])}}),r),computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:""}},methods:{}},d=n(45),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._b({},"span",e.selectModel,!1),["text"==e.tag?[1==e.sex?n("label",[e._v(e._s(e.$t("男")))]):e._e(),e._v(" "),2==e.sex?n("label",[e._v(e._s(e.$t("女")))]):e._e(),e._v(" "),3==e.sex?n("label",[e._v(e._s(e.$t("未知")))]):e._e()]:e._e(),e._v(" "),"tag"==e.tag?[1==e.sex?n("el-tag",{attrs:{size:e.size,type:e.type,effect:e.effect}},[e._v(e._s(e.$t("男")))]):e._e(),e._v(" "),2==e.sex?n("el-tag",{attrs:{size:e.size,type:e.type,effect:e.effect}},[e._v(e._s(e.$t("女")))]):e._e(),e._v(" "),3==e.sex?n("el-tag",{attrs:{size:e.size,type:e.type,effect:e.effect}},[e._v(e._s(e.$t("未知")))]):e._e()]:e._e()],2)}),[],!1,null,null,null);t.default=component.exports},1307:function(e,t,n){var content=n(1373);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(62).default)("48428d25",content,!0,{sourceMap:!1})},1372:function(e,t,n){"use strict";var r=n(1307);n.n(r).a},1373:function(e,t,n){(t=n(61)(!1)).push([e.i,".header-title-block[data-v-b23699f6]{height:60px;line-height:60px;width:100%}.content-block[data-v-b23699f6]{border-top-left-radius:15px;border-top-right-radius:15px;background:#fff;width:100%}.app-title-border-tag[data-v-b23699f6]{width:5px;height:25px;background:#1ea084;display:inline-block}.notice-list-item[data-v-b23699f6]{height:45px;line-height:45px}.bg-student-info-block[data-v-b23699f6]{background:url(/img/bg-student-info.png) no-repeat;height:180px;width:100%;border:1px dashed #ddd}.text-display-line[data-v-b23699f6]{width:80px;top:4px}.name-display-line[data-v-b23699f6],.text-display-line[data-v-b23699f6]{display:inline-block;position:relative}.name-display-line[data-v-b23699f6]{max-width:200px;top:6px}.item-block[data-v-b23699f6]{border-radius:5px;background:#ebeef5;padding:10px}",""]),e.exports=t},1407:function(e,t,n){"use strict";n.r(t);n(77);var r=n(15),o=n(22),l=n(129),c=n(1263),d=n(1264),f=(n(47),n(51)),v={name:"studentInfo",components:{MySex:d.default},layout:"defaultAppScreen",mixins:[l.a,c.a],data:function(){return{sex:"",active:6,serverAppList:[],noticeAppList:[],askAppList:[],currentEnrollYear:"",currentEnrollTime:"",collegeName:"",majorName:"",className:"",stuNo:"",headLogo:"",uploadFile:o.a.upload_file,uploadResult:{},uploadProcess:"",minDate:new Date(2022,0,1),maxDate:new Date(2050,11,31),filtersVehicleType:[],filtersStationType:[],emailReg:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,phoneReg:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,numRules:[{required:!0,message:"请填写正确的手机号",trigger:"onBlur"},{validator:function(e){return/^\d+$|^\d+[.]?\d+$/.test(e)},message:"必须为数字",trigger:"onBlur"}],detailData:"",filterStatus:[{label:this.$t("是"),value:!0,text:this.$t("是")},{label:this.$t("否"),value:!1,text:this.$t("否")}],showPicker:!1,showTranTypePicker:!1,showTranStationPicker:!1,currentDate:new Date,form:{id:"",signStatus:!0,signTime:"",interface:!0,peopleNum:"",address:"",addressLabel:"",vehicle:"",vehicleLabel:"",vehicleNo:"",vehicleNoLabel:"",des:""}}},mounted:function(){},created:function(){this.initAppServer(),this.initTransType(),this.initStationType(),this.initArrive()},methods:{layoutInit:function(){},initAppServer:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSessionInfo();case 2:e.collegeName=""!=e.sessionData&&e.sessionData.LOGIN_RETURN_INFO&&e.sessionData.LOGIN_RETURN_INFO.classes?e.sessionData.LOGIN_RETURN_INFO.classes.collegeName:"",e.className=""!=e.sessionData&&e.sessionData.LOGIN_RETURN_INFO&&e.sessionData.LOGIN_RETURN_INFO.classes?e.sessionData.LOGIN_RETURN_INFO.classes.className:"",e.stuNo=""!=e.sessionData&&e.sessionData.LOGIN_RETURN_INFO&&e.sessionData.LOGIN_RETURN_INFO.student?e.sessionData.LOGIN_RETURN_INFO.student.studentId:"",e.majorName=""!=e.sessionData&&e.sessionData.LOGIN_RETURN_INFO&&e.sessionData.LOGIN_RETURN_INFO.classes?e.sessionData.LOGIN_RETURN_INFO.classes.majorName:"",e.sex=""!=e.sessionData&&e.sessionData.LOGIN_RETURN_INFO&&e.sessionData.LOGIN_RETURN_INFO.sex?e.sessionData.LOGIN_RETURN_INFO.sex:"",e.studentDetailInfo(e.loginUserId);case 8:case"end":return t.stop()}}),t)})))()},initInfo:function(){this.$axios.get(o.a.enroll_current_time,{params:{}}).then((function(e){e.data.data}))},uploadFileSuccess:function(e,t){200==e.code&&(this.form.headImg=e.data.url)},returnIndex:function(){var e=this.$route.query.subPage?this.$route.query.subPage:"/newStudent/studentIndex";this.$router.push({path:e,query:{activeType:this.$route.query.activeType,userType:this.loginUserAppType,navH:this.navHeight,appType:this.globalAppShow,sessionId:this.$route.query.sessionId}})},onTimeConfirm:function(time){this.form.signTime=this.$moment(time).format("YYYY-MM-DD HH:mm"),this.showPicker=!1},onVehicleCancel:function(){this.showTranTypePicker=!1},onVehicleChange:function(e,t){this.form.vehicleLabel=e.label,this.form.vehicle=e.value,this.showTranTypePicker=!1},onStationCancel:function(){this.showTranStationPicker=!1},onStationChange:function(e,t){this.form.addressLabel=e.label,this.form.address=e.value,this.showTranStationPicker=!1},studentDetailInfo:function(e){this.$axios.get(o.a.enroll_student_detail,{params:{}}).then((function(e){e.data.data&&console.log(e.data.data)}))},initArrive:function(){var e=this,t={userId:this.loginUserId};this.$axios.get(o.a.server_enroll_app_arrive_get,{params:t}).then((function(t){if(t.data.data){e.form={id:"",signStatus:t.data.data.on_time,signTime:t.data.data.estimate?e.$moment(t.data.data.estimate).format("YYYY-MM-DD HH:mm"):"",interface:t.data.data.need_receive,peopleNum:t.data.data.escorts_num,address:t.data.data.arrive_station,vehicle:t.data.data.train_type,vehicleNo:t.data.data.train_no,des:t.data.data.des};for(var i=0;i<e.filtersVehicleType.length;i++)e.filtersVehicleType[i].value==t.data.data.train_type&&(e.form.vehicleLabel=e.filtersVehicleType[i].label);for(var n=0;n<e.filtersStationType.length;n++)e.filtersStationType[n].value==t.data.data.arrive_station&&(e.form.addressLabel=e.filtersStationType[n].label)}}))},initTransType:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,e.$axios.get(o.a.enroll_link_arrive_trans_type,{params:n}).then((function(t){if(t.data.data){var n=[];for(var r in t.data.data)n.push({value:r,text:t.data.data[r],label:t.data.data[r]});e.filtersVehicleType=n}}));case 3:case"end":return t.stop()}}),t)})))()},initStationType:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,e.$axios.get(o.a.enroll_link_arrive_station_list,{params:n}).then((function(t){if(t.data.data){for(var n=[],i=0;i<t.data.data.length;i++)n.push({value:t.data.data[i].arrive_station,text:t.data.data[i].arrive_station,label:t.data.data[i].arrive_station});e.filtersStationType=n}}));case 3:case"end":return t.stop()}}),t)})))()},submitInfo:function(){var e=this;this.$refs.form.validate().then((function(){e.btnLoading=!0;var t=o.a.server_enroll_app_arrive_add,n={trainType:e.form.vehicle,trainNo:e.form.vehicleNo,estimate:e.form.signTime,onTime:e.form.signStatus,escortsNum:e.form.peopleNum,needReceive:e.form.interface,arriveStation:e.form.address,des:e.form.des};n=e.$qs.stringify(n),e.$axios.post(t,n).then((function(t){if(200==t.data.code){Object(f.a)(t.data.desc);var n=e.$route.query.subPage?e.$route.query.subPage:"/newStudent/studentIndex";e.returnGIndex(n),e.btnLoading=!1}else Object(f.a)(t.data.desc),e.btnLoading=!1}))}))}}},m=(n(1372),n(45)),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{class:4==e.loginUserAppType?"bg-app-success_teacher":"bg-app-success",style:{height:e.navHeight+"px"}}),e._v(" "),n("div",{staticClass:"header-title-block",class:4==e.loginUserAppType?"bg-app-success_teacher":"bg-app-success"},[n("van-col",{attrs:{span:"3"}},[n("div",{staticClass:"text-left padding-lr-10 color-white"},[n("span",{staticClass:"font-bold font-size-14",on:{click:e.returnIndex}},[n("i",{staticClass:"fa fa-chevron-left"}),e._v("\n            "+e._s(e.$t("返回"))+"\n          ")])])]),e._v(" "),n("van-col",{attrs:{span:"18"}},[n("div",{staticClass:"text-center color-white font-size-16 font-bold"},[n("span",[e._v(e._s(e.$t("接站信息")))])])]),e._v(" "),n("van-col",{attrs:{span:"3"}},[n("van-button",{attrs:{size:"small",type:"warning",plain:"","native-type":"button"},on:{click:e.submitInfo}},[e._v(e._s(e.$t("提交")))])],1)],1),e._v(" "),n("div",{staticClass:"content-block",style:e.divHeight10},[n("div",{staticClass:"margin-top-20 padding-lr-10"},[n("div",[n("van-row",[n("van-col",{attrs:{span:"24"}},[n("div",{staticClass:"text-left"},[n("span",{staticClass:"app-title-border-tag"}),e._v(" "),n("span",{staticClass:"font-bold",staticStyle:{position:"relative",top:"-8px"}},[e._v(e._s(e.$t("基本信息")))])])])],1)],1),e._v(" "),n("div",{staticClass:"margin-top-5"},[n("table",{staticClass:"custom-table"},[n("tbody",[n("tr",[n("td",{staticStyle:{width:"15%"}},[e._v(e._s(e.$t("姓名")))]),e._v(" "),n("td",{staticStyle:{width:"35%"}},[e._v(e._s(e.realName))]),e._v(" "),n("td",{staticStyle:{width:"15%"}},[e._v(e._s(e.$t("性别")))]),e._v(" "),n("td",{staticStyle:{width:"35%"}},[n("my-sex",{attrs:{sex:e.sex,tag:"text"}})],1)]),e._v(" "),n("tr",[n("td",{staticStyle:{width:"15%"}},[e._v(e._s(e.$t("学号")))]),e._v(" "),n("td",{staticStyle:{width:"35%"}},[e._v(e._s(e.stuNo))]),e._v(" "),n("td",{staticStyle:{width:"15%"}},[e._v(e._s(e.$t("班级")))]),e._v(" "),n("td",{staticStyle:{width:"35%"}},[e._v(e._s(e.className))])]),e._v(" "),n("tr",[n("td",{staticStyle:{width:"15%"}},[e._v(e._s(e.$t("学院")))]),e._v(" "),n("td",{staticStyle:{width:"35%"}},[e._v(e._s(e.collegeName))]),e._v(" "),n("td",{staticStyle:{width:"15%"}},[e._v(e._s(e.$t("专业")))]),e._v(" "),n("td",{staticStyle:{width:"35%"}},[e._v(e._s(e.majorName))])])])])])]),e._v(" "),n("div",{staticClass:"margin-top-20 padding-lr-10"},[n("div",[n("van-row",[n("van-col",{attrs:{span:"24"}},[n("div",{staticClass:"text-left"},[n("span",{staticClass:"app-title-border-tag"}),e._v(" "),n("span",{staticClass:"font-bold",staticStyle:{position:"relative",top:"-8px"}},[e._v(e._s(e.$t("联系信息")))])])])],1)],1),e._v(" "),n("div",{staticClass:"margin-top-5"},[n("van-form",{ref:"form"},[n("van-field",{attrs:{name:e.$t("按时报到"),label:e.$t("按时报到")},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.form.signStatus,callback:function(t){e.$set(e.form,"signStatus",t)},expression:"form.signStatus"}},[n("van-radio",{attrs:{name:!0}},[e._v(e._s(e.$t("是")))]),e._v(" "),n("van-radio",{attrs:{name:!1}},[e._v(e._s(e.$t("否")))])],1)]},proxy:!0}])}),e._v(" "),n("van-field",{attrs:{name:e.$t("到达时间"),label:e.$t("到达时间"),readonly:"",clickable:"",placeholder:e.$t("请选择"),value:e.form.signTime,rules:[{required:!0,message:"请选择信息"}]},on:{click:function(t){e.showPicker=!0}}}),e._v(" "),n("van-field",{attrs:{name:e.$t("需要接站"),label:e.$t("需要接站")},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.form.interface,callback:function(t){e.$set(e.form,"interface",t)},expression:"form.interface"}},[n("van-radio",{attrs:{name:!0}},[e._v(e._s(e.$t("是")))]),e._v(" "),n("van-radio",{attrs:{name:!1}},[e._v(e._s(e.$t("否")))])],1)]},proxy:!0}])}),e._v(" "),n("van-field",{attrs:{name:e.$t("陪同人员"),label:e.$t("陪同人员"),placeholder:e.$t("请输入信息"),autocomplete:"off",rules:e.numRules},model:{value:e.form.peopleNum,callback:function(t){e.$set(e.form,"peopleNum",t)},expression:"form.peopleNum"}}),e._v(" "),n("van-field",{attrs:{name:e.$t("交通工具"),label:e.$t("交通工具"),readonly:"",clickable:"",placeholder:e.$t("请选择"),rules:[{required:!0,message:"请选择信息"}]},on:{click:function(t){e.showTranTypePicker=!0}},model:{value:e.form.vehicleLabel,callback:function(t){e.$set(e.form,"vehicleLabel",t)},expression:"form.vehicleLabel"}}),e._v(" "),n("van-field",{attrs:{name:e.$t("到达站"),label:e.$t("到达站"),readonly:"",clickable:"",placeholder:e.$t("请选择"),rules:[{required:!0,message:"请选择信息"}]},on:{click:function(t){e.showTranStationPicker=!0}},model:{value:e.form.addressLabel,callback:function(t){e.$set(e.form,"addressLabel",t)},expression:"form.addressLabel"}}),e._v(" "),n("van-field",{attrs:{name:e.$t("班次/车牌号"),label:e.$t("班次/车牌号"),placeholder:e.$t("请输入信息"),autocomplete:"off",rules:[{required:!0,message:"请输入信息"}]},model:{value:e.form.vehicleNo,callback:function(t){e.$set(e.form,"vehicleNo",t)},expression:"form.vehicleNo"}}),e._v(" "),n("van-field",{attrs:{name:e.$t("备注"),label:e.$t("备注"),placeholder:e.$t("请输入信息"),autocomplete:"off"},model:{value:e.form.des,callback:function(t){e.$set(e.form,"des",t)},expression:"form.des"}})],1)],1)])]),e._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-datetime-picker",{attrs:{type:"datetime","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.onTimeConfirm,cancel:function(t){e.showPicker=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showTranTypePicker,callback:function(t){e.showTranTypePicker=t},expression:"showTranTypePicker"}},[n("van-picker",{attrs:{"show-toolbar":"",title:"交通工具",columns:e.filtersVehicleType},on:{cancel:e.onVehicleCancel,confirm:e.onVehicleChange}})],1),e._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showTranStationPicker,callback:function(t){e.showTranStationPicker=t},expression:"showTranStationPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",title:"接站地址",columns:e.filtersStationType},on:{cancel:e.onStationCancel,confirm:e.onStationChange}})],1)],1)}),[],!1,null,"b23699f6",null);t.default=component.exports;installComponents(component,{MySex:n(1264).default})}}]);