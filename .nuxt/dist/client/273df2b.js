(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1262:function(t,e,n){"use strict";var r=n(52),o=n(36),l=n(264),d=n(78),c=n(56),f=n(99),h=n(719),v=n(208),m=n(37),_=n(265),y=n(209).f,w=n(98).f,x=n(63).f,C=n(720).trim,k=o.Number,I=k.prototype,A="Number"==f(_(I)),N=function(t){var e,n,r,o,l,d,c,code,f=v(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=C(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(d=(l=f.slice(2)).length,c=0;c<d;c++)if((code=l.charCodeAt(c))<48||code>o)return NaN;return parseInt(l,r)}return+f};if(l("Number",!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var $,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(A?m((function(){I.valueOf.call(n)})):"Number"!=f(n))?h(new k(N(e)),n,S):N(e)},O=r?y(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;O.length>T;T++)c(k,$=O[T])&&!c(S,$)&&x(S,$,w(k,$));S.prototype=I,I.constructor=S,d(o,"Number",S)}},1263:function(t,e,n){"use strict";n(161),n(7),n(22),n(47);e.a={data:function(){return{testLogin:"",value:"",testDefault:"",navHeight:0,globalAppShow:"",isAndroid:!1,isIos:!1}},mounted:function(){this.getUrl(),this.initBridage()},created:function(){},methods:{getUrl:function(){this.loginUserAppType=this.$route.query.userType,this.navHeight=this.$route.query.navH?this.$route.query.navH:0,this.globalAppShow=this.$route.query.appType},returnGlobalMain:function(t){"android"==this.globalAppShow&&this.setupWebViewJavascriptBridge((function(e){e.callHandler("returnGlobalMain",{key:t},(function(t){}))})),"ios"==this.globalAppShow&&this.setupWebViewJavascriptBridge((function(e){e.callHandler("returnGlobalMain",{key:t},(function(t){}))}))},setupWebViewJavascriptBridge:function(t){if("android"==this.globalAppShow)window.WebViewJavascriptBridge?t(window.WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",(function(){t(window.WebViewJavascriptBridge)}),!1);else if("ios"==this.globalAppShow){if(window.WebViewJavascriptBridge)return t(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(t);window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="https://__bridge_loaded__",document.documentElement.appendChild(e),setTimeout((function(){document.documentElement.removeChild(e)}),0)}},initBridage:function(){var t=this;try{this.setupWebViewJavascriptBridge((function(e){"android"==t.globalAppShow&&e.init((function(t,e){e({"Javascript Responds":"Wee!"})}))}))}catch(t){}}}}},1264:function(t,e,n){"use strict";n.r(e);n(1262);var r,o=n(130),l=n(47),d={name:"mySex",props:(r={sex:{default:0,type:[String,Number]},tag:{default:"tag",validate:function(t){return Object(l.f)(t,["tag","text"])}},size:{defalult:"medium",validate:function(t){return Object(l.f)(t,["large","medium","small","mini"])}}},Object(o.a)(r,"size",{defalult:"medium",validate:function(t){return Object(l.f)(t,["large","medium","small","mini"])}}),Object(o.a)(r,"type",{defalult:"",validate:function(t){return Object(l.f)(t,["success","info","warning","danger"])}}),Object(o.a)(r,"effect",{defalult:"light",validate:function(t){return Object(l.f)(t,["dark","light","plain"])}}),r),computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:""}},methods:{}},c=n(45),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._b({},"span",t.selectModel,!1),["text"==t.tag?[1==t.sex?n("label",[t._v(t._s(t.$t("男")))]):t._e(),t._v(" "),2==t.sex?n("label",[t._v(t._s(t.$t("女")))]):t._e(),t._v(" "),3==t.sex?n("label",[t._v(t._s(t.$t("未知")))]):t._e()]:t._e(),t._v(" "),"tag"==t.tag?[1==t.sex?n("el-tag",{attrs:{size:t.size,type:t.type,effect:t.effect}},[t._v(t._s(t.$t("男")))]):t._e(),t._v(" "),2==t.sex?n("el-tag",{attrs:{size:t.size,type:t.type,effect:t.effect}},[t._v(t._s(t.$t("女")))]):t._e(),t._v(" "),3==t.sex?n("el-tag",{attrs:{size:t.size,type:t.type,effect:t.effect}},[t._v(t._s(t.$t("未知")))]):t._e()]:t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1302:function(t,e,n){var content=n(1362);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("476f3fb8",content,!0,{sourceMap:!1})},1361:function(t,e,n){"use strict";var r=n(1302);n.n(r).a},1362:function(t,e,n){(e=n(61)(!1)).push([t.i,".header-title-block[data-v-700d5a54]{height:60px;line-height:60px;width:100%}.content-block[data-v-700d5a54]{border-top-left-radius:15px;border-top-right-radius:15px;background:#fff;width:100%}.app-title-border-tag[data-v-700d5a54]{width:5px;height:25px;background:#1ea084;display:inline-block}.notice-list-item[data-v-700d5a54]{height:45px;line-height:45px}.bg-student-info-block[data-v-700d5a54]{background:url(/img/bg-student-info.png) no-repeat;height:180px;width:100%;border:1px dashed #ddd}.text-display-line[data-v-700d5a54]{width:80px;top:4px}.name-display-line[data-v-700d5a54],.text-display-line[data-v-700d5a54]{display:inline-block;position:relative}.name-display-line[data-v-700d5a54]{max-width:200px;top:6px}.item-block[data-v-700d5a54]{border-radius:5px;background:#ebeef5;padding:10px}",""]),t.exports=e},1402:function(t,e,n){"use strict";n.r(e);n(131);var r=n(22),o=n(129),l=n(1263),d=n(1264),c=(n(47),n(51)),f={name:"studentInfo",components:{MySex:d.default},layout:"defaultAppScreen",mixins:[o.a,l.a],data:function(){return{formCreateRuleData:[],formCreateOptionData:{},formCreateTitleData:"",fromCreateBtnText:"",fApi:{}}},mounted:function(){},created:function(){this.initAppServer()},methods:{layoutInit:function(){},initAppServer:function(){this.initForm()},initForm:function(){var t=this,e=[],n={linkId:this.$route.query.linkId};this.$axios.get(r.a.server_enroll_app_student_link_info,{params:n}).then((function(n){n.data.data&&(t.formCreateTitleData=n.data.data.linkName,t.formCreateIdData=n.data.data.id,t.fromCreateBtnText=t.$t("提交"),null!=n.data.data.linkContent&&""!=n.data.data.linkContent&&(t.formCreateRuleData=JSON.parse(n.data.data.linkContent).rule,t.formCreateOptionData=JSON.parse(n.data.data.linkContent).option,t.setFormChildren(t.formCreateRuleData,e,"children")))}))},setRuleChild:function(t,e){for(var n={},i=0;i<t.length;i++)t[i].children&&t[i].children.length>0?this.setRuleChild(t[i].children,e):t[i].field&&(n={field:t[i].field,title:t[i].title,type:t[i].type,value:t[i].value},e.push(n));return e},setFormChildren:function(t,e,param){var n=this;if(t&&t.length>0)return t.map((function(t,r){null!=t[param]&&t[param].length>0?n.setFormChildren(t[param],e,param):"upload"==t.type&&(t.props={uploadType:"image",action:"/proxy/school/multipartFile/upload",data:{path:"applet"},onSuccess:function(t,e){e.url=t.data.url||"",console.log(t)}})})),e},handleFormOk:function(){var t=this;this.fApi.submit((function(e,n){var o,l={linkId:t.$route.query.linkId},d=n.rule,f=t.setRuleChild(d,[]);l.linkFormDate=JSON.stringify(f),o=r.a.server_enroll_app_student_form_add,l=t.$qs.stringify(l),t.btnLoading=!0,t.$axios.post(o,l,{loading:!1}).then((function(e){if(200==e.data.code){t.dialogForm=!1;var n=t.$route.query.subPage?t.$route.query.subPage:"/newStudent/studentIndex";t.returnGIndex(n),Object(c.a)(e.data.desc)}else Object(c.a)(e.data.desc);t.btnLoading=!1}))}))},returnIndex:function(){var t=this.$route.query.subPage?this.$route.query.subPage:"/newStudent/studentIndex";this.$router.push({path:t,query:{activeType:this.$route.query.activeType,userType:this.loginUserAppType,navH:this.navHeight,appType:this.globalAppShow,sessionId:this.$route.query.sessionId}})}}},h=(n(1361),n(45)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{class:4==t.loginUserAppType?"bg-app-success_teacher":"bg-app-success",style:{height:t.navHeight+"px"}}),t._v(" "),n("div",{staticClass:"header-title-block",class:4==t.loginUserAppType?"bg-app-success_teacher":"bg-app-success"},[n("van-col",{attrs:{span:"4"}},[n("div",{staticClass:"text-left padding-lr-10 color-white"},[n("span",{staticClass:"font-bold font-size-14",on:{click:t.returnIndex}},[n("i",{staticClass:"fa fa-chevron-left"}),t._v("\n            "+t._s(t.$t("返回"))+"\n          ")])])]),t._v(" "),n("van-col",{attrs:{span:"16"}},[n("div",{staticClass:"text-center color-white font-size-16 font-bold"},[n("span",[t._v(t._s(t.$t("自定义表单")))])])]),t._v(" "),n("van-col",{attrs:{span:"4"}},[n("van-button",{attrs:{size:"small",type:"warning",plain:"","native-type":"button"},on:{click:function(e){return t.handleFormOk(e)}}},[t._v(t._s(t.$t("提交")))])],1)],1),t._v(" "),n("div",{style:t.divHeight10},[n("div",{staticClass:"margin-left-10 margin-right-10",staticStyle:{"margin-top":"1px"}},[n("div",{staticClass:"content-block padding-tb-10",style:t.divHeight7},[""!=t.formCreateRuleData?n("form-create",{attrs:{rule:t.formCreateRuleData,option:t.formCreateOptionData},model:{value:t.fApi,callback:function(e){t.fApi=e},expression:"fApi"}}):t._e()],1)])])])}),[],!1,null,"700d5a54",null);e.default=component.exports}}]);