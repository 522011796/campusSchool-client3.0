(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1262:function(t,e,o){"use strict";var r=o(52),l=o(36),n=o(264),c=o(78),d=o(56),m=o(99),h=o(719),v=o(208),_=o(37),f=o(265),y=o(209).f,x=o(98).f,w=o(63).f,S=o(720).trim,k=l.Number,C=k.prototype,$="Number"==m(f(C)),T=function(t){var e,o,r,l,n,c,d,code,m=v(t,!1);if("string"==typeof m&&m.length>2)if(43===(e=(m=S(m)).charCodeAt(0))||45===e){if(88===(o=m.charCodeAt(2))||120===o)return NaN}else if(48===e){switch(m.charCodeAt(1)){case 66:case 98:r=2,l=49;break;case 79:case 111:r=8,l=55;break;default:return+m}for(c=(n=m.slice(2)).length,d=0;d<c;d++)if((code=n.charCodeAt(d))<48||code>l)return NaN;return parseInt(n,r)}return+m};if(n("Number",!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var D,I=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof I&&($?_((function(){C.valueOf.call(o)})):"Number"!=m(o))?h(new k(T(e)),o,I):T(e)},R=r?y(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;R.length>A;A++)d(k,D=R[A])&&!d(I,D)&&w(I,D,x(k,D));I.prototype=C,C.constructor=I,c(l,"Number",I)}},1263:function(t,e,o){"use strict";o(161),o(7),o(22),o(47);e.a={data:function(){return{testLogin:"",value:"",testDefault:"",navHeight:0,globalAppShow:"",isAndroid:!1,isIos:!1}},mounted:function(){this.getUrl(),this.initBridage()},created:function(){},methods:{getUrl:function(){this.loginUserAppType=this.$route.query.userType,this.navHeight=this.$route.query.navH?this.$route.query.navH:0,this.globalAppShow=this.$route.query.appType},returnGlobalMain:function(t){"android"==this.globalAppShow&&this.setupWebViewJavascriptBridge((function(e){e.callHandler("returnGlobalMain",{key:t},(function(t){}))})),"ios"==this.globalAppShow&&this.setupWebViewJavascriptBridge((function(e){e.callHandler("returnGlobalMain",{key:t},(function(t){}))}))},setupWebViewJavascriptBridge:function(t){if("android"==this.globalAppShow)window.WebViewJavascriptBridge?t(window.WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",(function(){t(window.WebViewJavascriptBridge)}),!1);else if("ios"==this.globalAppShow){if(window.WebViewJavascriptBridge)return t(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(t);window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="https://__bridge_loaded__",document.documentElement.appendChild(e),setTimeout((function(){document.documentElement.removeChild(e)}),0)}},initBridage:function(){var t=this;try{this.setupWebViewJavascriptBridge((function(e){"android"==t.globalAppShow&&e.init((function(t,e){e({"Javascript Responds":"Wee!"})}))}))}catch(t){}}}}},1264:function(t,e,o){"use strict";o.r(e);o(1262);var r,l=o(130),n=o(47),c={name:"mySex",props:(r={sex:{default:0,type:[String,Number]},tag:{default:"tag",validate:function(t){return Object(n.f)(t,["tag","text"])}},size:{defalult:"medium",validate:function(t){return Object(n.f)(t,["large","medium","small","mini"])}}},Object(l.a)(r,"size",{defalult:"medium",validate:function(t){return Object(n.f)(t,["large","medium","small","mini"])}}),Object(l.a)(r,"type",{defalult:"",validate:function(t){return Object(n.f)(t,["success","info","warning","danger"])}}),Object(l.a)(r,"effect",{defalult:"light",validate:function(t){return Object(n.f)(t,["dark","light","plain"])}}),r),computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:""}},methods:{}},d=o(45),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",t._b({},"span",t.selectModel,!1),["text"==t.tag?[1==t.sex?o("label",[t._v(t._s(t.$t("男")))]):t._e(),t._v(" "),2==t.sex?o("label",[t._v(t._s(t.$t("女")))]):t._e(),t._v(" "),3==t.sex?o("label",[t._v(t._s(t.$t("未知")))]):t._e()]:t._e(),t._v(" "),"tag"==t.tag?[1==t.sex?o("el-tag",{attrs:{size:t.size,type:t.type,effect:t.effect}},[t._v(t._s(t.$t("男")))]):t._e(),t._v(" "),2==t.sex?o("el-tag",{attrs:{size:t.size,type:t.type,effect:t.effect}},[t._v(t._s(t.$t("女")))]):t._e(),t._v(" "),3==t.sex?o("el-tag",{attrs:{size:t.size,type:t.type,effect:t.effect}},[t._v(t._s(t.$t("未知")))]):t._e()]:t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1287:function(t,e,o){t.exports=o.p+"img/dorm_icon.f3912d3.png"},1301:function(t,e,o){var content=o(1360);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(62).default)("439aa896",content,!0,{sourceMap:!1})},1359:function(t,e,o){"use strict";var r=o(1301);o.n(r).a},1360:function(t,e,o){(e=o(61)(!1)).push([t.i,".header-title-block[data-v-3875e1c2]{height:60px;line-height:60px;width:100%}.content-block[data-v-3875e1c2]{border-top-left-radius:15px;border-top-right-radius:15px;background:#fff;width:100%}.app-title-border-tag[data-v-3875e1c2]{width:5px;height:25px;background:#1ea084;display:inline-block}.notice-list-item[data-v-3875e1c2]{height:45px;line-height:45px}.bg-student-info-block[data-v-3875e1c2]{background:url(/img/bg-student-info.png) no-repeat;height:180px;width:100%;border:1px dashed #ddd}.text-display-line[data-v-3875e1c2]{width:80px;top:4px}.name-display-line[data-v-3875e1c2],.text-display-line[data-v-3875e1c2]{display:inline-block;position:relative}.name-display-line[data-v-3875e1c2]{max-width:200px;top:6px}.item-block[data-v-3875e1c2]{border-radius:5px;background:#ebeef5;padding:10px}.info-block-header[data-v-3875e1c2]{height:45px;line-height:45px;font-size:12px;color:#fff;background:#909399}.info-block-left[data-v-3875e1c2]{width:100px;border-right:1px solid #f2f6fc}.info-block-right[data-v-3875e1c2]{margin-left:100px;height:100%}.bed-item-block[data-v-3875e1c2]{height:40px;line-height:40px;text-align:center;border-radius:5px;border:1px solid #dcdfe6}.room-item-block[data-v-3875e1c2]{padding:10px;border-radius:5px;cursor:default}.room-item-block[data-v-3875e1c2]:hover{background:#f5f5f5}.bed-item-block[data-v-3875e1c2]{cursor:default}.bed-item-block[data-v-3875e1c2]:hover{background:#f2f6fc}.bed-item-block-active[data-v-3875e1c2],.bed-item-block-active[data-v-3875e1c2]:hover{background:#e6a23c;color:#fff}.bed-item-block-selected[data-v-3875e1c2],.bed-item-block-selected[data-v-3875e1c2]:hover{background:#f56c6c;color:#fff}.block-icon-class[data-v-3875e1c2]{height:15px;width:15px;position:relative;top:3px}.tag-class[data-v-3875e1c2]{background:#67c23a}.tag-class[data-v-3875e1c2],.tag-danger-class[data-v-3875e1c2]{width:10px;height:13px;display:inline-block}.tag-danger-class[data-v-3875e1c2]{background:#f56c6c}.dialog-header-title-block[data-v-3875e1c2]{height:40px;line-height:40px}",""]),t.exports=e},1401:function(t,e,o){"use strict";o.r(e);o(132),o(723),o(77);var r=o(15),l=o(22),n=o(129),c=o(1263),d=o(1264),m=(o(47),o(51)),h={name:"studentInfo",components:{MySex:d.default},layout:"defaultAppScreen",mixins:[n.a,c.a],data:function(){return{dormSelType:"",ruleId:"",roomDetailData:{},activeBedNo:"",defaultMenuActive:"",dormList:[],dormTreeList:[],filterRoomType:[],filterRoomArrow:[],filterRoomPrice:[],dormPackageTreeList:[],filterRoomStatus:[{text:this.$t("全部"),label:this.$t("全部"),value:""},{text:this.$t("已满"),label:this.$t("已满"),value:1},{text:this.$t("未满"),label:this.$t("未满"),value:0}],searchRoomType:"",searchRoomTypeLabel:this.$t("房型"),searchRoomArrow:"",searchRoomArrowLabel:this.$t("朝向"),searchRoomPrice:"",searchRoomPriceLabel:this.$t("价格"),searchRoomStatus:"",searchRoomStatusLabel:this.$t("状态"),roomTypeText:"xxxxxx",commSearchBuild:"",commSearchFloor:"",commSearchRoom:"",commSearchPackage:"",showDorm:!1,showBill:!1,billList:[],detailData:{},dormSelTitle:this.$t("床位选择"),dormHeight:{height:"0px",overflowY:"auto"},billHeight:{height:"0px",overflowY:"auto"},formDorm:{id:"",beds:[],imgs:[],roomArrow:"",roomPrice:0,roomArea:0,peopleNum:0,bedId:""}}},mounted:function(){},created:function(){this.initAppServer()},methods:{layoutInit:function(){},initAppServer:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSessionInfo();case 2:t.dormSelType=t.$route.query.dormSelType,t.ruleId=t.$route.query.ruleId,t.initDormTree(),t.initDormInfo(),1==t.dormSelType&&t.initPackageTree();case 7:case"end":return e.stop()}}),e)})))()},initDormTree:function(){var t=this;this.$axios.get(l.a.server_enroll_app_dorm_list,{params:{}}).then((function(e){if(e.data.data){console.log(e.data.data);var o=[{text:t.$t("全部"),label:t.$t("全部"),value:""}],r=[{text:t.$t("全部"),label:t.$t("全部"),value:""}],l=[{text:t.$t("全部"),label:t.$t("全部"),value:""}];t.dormTreeList=e.data.data.buildingTree;for(var i=0;i<e.data.data.roomOrientList.length;i++)""!=e.data.data.roomOrientList[i]&&o.push({label:e.data.data.roomOrientList[i],text:e.data.data.roomOrientList[i],value:e.data.data.roomOrientList[i]});for(var n=0;n<e.data.data.peopleNumList.length;n++)l.push({label:e.data.data.peopleNumList[n]+t.$t("人间"),text:e.data.data.peopleNumList[n]+t.$t("人间"),value:e.data.data.peopleNumList[n]});for(var c=0;c<e.data.data.roomPriceList.length;c++)r.push({label:e.data.data.roomPriceList[c],text:e.data.data.roomPriceList[c],value:e.data.data.roomPriceList[c]});t.filterRoomArrow=o,t.filterRoomPrice=r,t.filterRoomType=l}}))},initDormInfo:function(){var t=this,e={},o="";0==this.dormSelType?e={page:1,num:9999,userId:this.loginUserId,buildId:this.commSearchBuild,floorNum:this.commSearchFloor,peopleNum:this.searchRoomType,roomOrient:this.searchRoomArrow,roomPrice:this.searchRoomPrice,choseStatus:this.searchRoomStatus}:1==this.dormSelType&&(e={page:1,num:9999,ruleId:this.$route.query.ruleId,pacRegion:this.commSearchPackage}),0==this.dormSelType?(o=l.a.server_enroll_app_dorm_room,this.$axios.get(o,{params:e}).then((function(e){e.data.data&&(t.dormList=e.data.data.list)}))):1==this.dormSelType&&(o=l.a.enroll_rule_package_list,this.$axios.get(o,{params:e}).then((function(e){e.data.data&&(t.dormList=e.data.data)})))},initBill:function(){var t=this,e={userId:this.loginUserId,page:1,num:9999},o="";0==this.dormSelType?o=l.a.server_enroll_app_dorm_bill_page:1==this.dormSelType&&(o=l.a.enroll_rule_package_order_list),this.$axios.get(o,{params:e}).then((function(e){e.data.data&&(t.billList=e.data.data.list)}))},initPackageTree:function(){for(var t=[],e=JSON.parse(this.$route.query.pacRegions),i=0;i<e.length;i++)t.push({label:e[i].pac_region,value:e[i].pac_region,text:e[i].pac_region});this.dormPackageTreeList=t},selMenuAll:function(){this.commSearchBuild="",this.commSearchFloor="",this.commSearchRoom="",this.commSearchBuild="",this.commSearchFloor="",this.commSearchPackage="",this.initDormInfo()},selMenu:function(t,e,o){0==this.dormSelType?(this.commSearchBuild="",this.commSearchFloor="",this.commSearchRoom="",e.storey?this.commSearchBuild=e.id:this.commSearchBuild=e.buildingId,this.commSearchFloor=e.floor,this.initDormInfo()):1==this.dormSelType&&(this.commSearchPackage=e.value,this.initDormInfo())},handleChangeSearchType:function(t){this.searchRoomType=t,this.initDormInfo()},handleChangeSearchArrow:function(t){this.searchRoomArrow=t,this.initDormInfo()},handleChangeSearchPrice:function(t){this.searchRoomPrice=t,this.initDormInfo()},handleChangeSearchStatus:function(t){this.searchRoomStatus=t,this.initDormInfo()},selBedNo:function(t,e,o){this.formDorm.bedId=e.id,this.activeBedNo=o},openedDormDialog:function(){this.dormHeight.height=.7*window.innerHeight-40+"px",this.billHeight.height=.7*window.innerHeight-60+"px"},setBillStatus:function(t,e){var o=this,r="",n={};0==this.dormSelType?(r=l.a.server_enroll_app_dorm_bill_revoke,n={id:e.id,userId:this.loginUserId}):1==this.dormSelType&&(r=l.a.enroll_rule_package_order_revoke,n={id:e.id}),n=this.$qs.stringify(n),this.$axios.post(r,n).then((function(t){200==t.data.code?(o.initBill(),Object(m.a)(t.data.desc)):Object(m.a)(t.data.desc)}))},selRoomItem:function(t,e){var o=this;if(this.formDorm.id=e.id,0==this.dormSelType){var r={id:e.id};this.dormSelTitle=this.$t("床位选择")+"("+e.dormitory_no+")",this.$axios.get(l.a.server_enroll_app_dorm_info,{params:r,loading:!1}).then((function(t){if(t.data.data){var e=t.data.data.room_photos?t.data.data.room_photos.split("|"):[];o.formDorm.imgs=e,o.formDorm.beds=t.data.data.beds,o.formDorm.roomPrice=t.data.data.room_price,o.formDorm.roomArrow=t.data.data.room_orient,o.formDorm.peopleNum=t.data.data.people_num,o.formDorm.roomArea=t.data.data.area}}))}else if(1==this.dormSelType){this.dormSelTitle=this.$t("套餐选择")+"("+e.pacName+")";var n=e.pacLogo?e.pacLogo.split(","):[];this.formDorm.imgs=n,this.formDorm.roomPrice=e.pacPrice}this.showDorm=!0},billManage:function(){this.initBill(),this.showBill=!0},cancelDormDialog:function(){this.showDorm=!1},okDormDialog:function(){var t=this;this.btnLoading=!0;var e=l.a.server_enroll_app_dorm_chose,o={};0==this.dormSelType?(e=l.a.server_enroll_app_dorm_chose,o={userId:this.loginUserId,roomId:this.formDorm.id,bedId:this.formDorm.bedId}):1==this.dormSelType&&(e=l.a.enroll_rule_package_order_chose,o={linkId:this.detailData.id,packageId:this.formDorm.id}),o=this.$qs.stringify(o),this.$axios.post(e,o).then((function(e){if(200==e.data.code){t.showDorm=!1;var o=t.$route.query.subPage?t.$route.query.subPage:"/newStudent/studentIndex";t.returnGIndex(o),Object(m.a)(e.data.desc)}else Object(m.a)(e.data.desc);t.btnLoading=!1}))},closeDialog:function(){this.activeBedNo="",this.billList=[],this.formDorm={id:"",beds:[],imgs:[],roomArrow:"",roomPrice:0,roomArea:0,peopleNum:0,bedId:""}},returnIndex:function(){var t=this.$route.query.subPage?this.$route.query.subPage:"/newStudent/studentIndex";this.$router.push({path:t,query:{activeType:this.$route.query.activeType,userType:this.loginUserAppType,navH:this.navHeight,appType:this.globalAppShow,sessionId:this.$route.query.sessionId}})}}},v=(o(1359),o(45)),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{class:4==t.loginUserAppType?"bg-app-success_teacher":"bg-app-success",style:{height:t.navHeight+"px"}}),t._v(" "),r("div",{staticClass:"header-title-block",class:4==t.loginUserAppType?"bg-app-success_teacher":"bg-app-success"},[r("van-col",{attrs:{span:"4"}},[r("div",{staticClass:"text-left padding-lr-10 color-white"},[r("span",{staticClass:"font-bold font-size-14",on:{click:t.returnIndex}},[r("i",{staticClass:"fa fa-chevron-left"}),t._v("\n              "+t._s(t.$t("返回"))+"\n            ")])])]),t._v(" "),r("van-col",{attrs:{span:"16"}},[r("div",{staticClass:"text-center color-white font-size-16 font-bold"},[r("span",[t._v(t._s(t.$t("线上选寝")))])])]),t._v(" "),r("van-col",{attrs:{span:"4"}},[r("van-button",{attrs:{size:"small",type:"warning",plain:"","native-type":"button"},on:{click:function(e){return t.billManage(e)}}},[t._v(t._s(t.$t("订单")))])],1)],1),t._v(" "),r("div",{},[0==t.dormSelType?r("div",[r("van-dropdown-menu",[r("van-dropdown-item",{attrs:{title:t.searchRoomTypeLabel,options:t.filterRoomType},on:{change:t.handleChangeSearchType},model:{value:t.searchRoomType,callback:function(e){t.searchRoomType=e},expression:"searchRoomType"}}),t._v(" "),r("van-dropdown-item",{attrs:{title:t.searchRoomArrowLabel,options:t.filterRoomArrow},on:{change:t.handleChangeSearchArrow},model:{value:t.searchRoomArrow,callback:function(e){t.searchRoomArrow=e},expression:"searchRoomArrow"}}),t._v(" "),r("van-dropdown-item",{attrs:{title:t.searchRoomPriceLabel,options:t.filterRoomPrice},on:{change:t.handleChangeSearchPrice},model:{value:t.searchRoomPrice,callback:function(e){t.searchRoomPrice=e},expression:"searchRoomPrice"}}),t._v(" "),r("van-dropdown-item",{attrs:{title:t.searchRoomStatusLabel,options:t.filterRoomStatus},on:{change:t.handleChangeSearchStatus},model:{value:t.searchRoomStatus,callback:function(e){t.searchRoomStatus=e},expression:"searchRoomStatus"}})],1)],1):t._e(),t._v(" "),r("div",{staticClass:"pull-left info-block-left"},[0==t.dormSelType?[r("div",{staticClass:"info-block-header text-center",on:{click:t.selMenuAll}},[r("span",[t._v(t._s(t.$t("全部宿舍")))])]),t._v(" "),r("div",{style:{height:t.divHeight10.height1-90+"px",overflowY:"auto"}},[r("el-menu",{staticClass:"el-menu-vertical-demo custon-nav-menu",attrs:{"default-active":t.defaultMenuActive,"background-color":"#fefefe","text-color":"#909399","active-text-color":"#ffd04b"}},[t._l(t.dormTreeList,(function(e,o){return[e.floorList.length>0?r("el-submenu",{attrs:{index:o+""}},[r("div",{staticStyle:{width:"100%"},attrs:{slot:"title"},on:{click:function(r){return t.selMenu(r,e,o)}},slot:"title"},[r("span",[t._v(t._s(e.building_name))])]),t._v(" "),e.floorList.length>0?r("el-menu-item-group",t._l(e.floorList,(function(e,l){return r("el-menu-item",{key:l,attrs:{index:o+"-"+l},on:{click:function(r){return t.selMenu(r,e,o+"-"+l)}}},[t._v(t._s(e.name))])})),1):t._e()],1):r("el-menu-item",{attrs:{index:o+""},on:{click:function(r){return t.selMenu(r,e,o)}}},[t._v(t._s(e.building_name))])]}))],2)],1)]:t._e(),t._v(" "),1==t.dormSelType?[r("div",{staticClass:"info-block-header text-center",on:{click:t.selMenuAll}},[r("span",[t._v(t._s(t.$t("全部套餐")))])]),t._v(" "),r("div",{style:{height:t.divHeight10.height1-50+"px",overflowY:"auto"}},[r("el-menu",{staticClass:"el-menu-vertical-demo custon-nav-menu",attrs:{"default-active":t.defaultMenuActive,"background-color":"#fefefe","text-color":"#909399","active-text-color":"#ffd04b"}},[t._l(t.dormPackageTreeList,(function(e,o){return[r("el-menu-item",{staticStyle:{"text-align":"center"},attrs:{index:o+""},on:{click:function(r){return t.selMenu(r,e,o)}}},[t._v(t._s(e.label))])]}))],2)],1)]:t._e()],2),t._v(" "),r("div",{staticClass:"info-block-right"},[r("div",{staticClass:"padding-lr-10 padding-tb-10",style:{height:t.divHeight10.height1-90+"px",overflowY:"auto"}},[r("div",[r("el-row",t._l(t.dormList,(function(e,l){return r("el-col",{key:l,staticClass:"text-center margin-bottom-20 room-item-block",attrs:{span:8},nativeOn:{click:function(o){return t.selRoomItem(o,e)}}},[r("div",[r("img",{staticStyle:{height:"40px",width:"40px"},attrs:{src:o(1287)}})]),t._v(" "),0==t.dormSelType?r("div",{staticClass:"margin-top-5 font-size-12 moon-content-text-ellipsis-class"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.dormitory_no,placement:"bottom"}},[r("span",[t._v(t._s(e.dormitory_no))])])],1):t._e(),t._v(" "),1==t.dormSelType?r("div",{staticClass:"margin-top-5 font-size-12 moon-content-text-ellipsis-class"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.pacName,placement:"bottom"}},[r("div",{staticClass:"text-center"},[r("div",[r("span",[t._v(t._s(e.pacName))])]),t._v(" "),r("div",{staticClass:"color-success"},[t._v("\n                        ("),r("span",{staticClass:"font-size-12 color-danger"},[t._v(t._s(e.pacNum-e.pacNumChose))]),t._v("/"),r("span",{staticClass:"font-size-12 color-success"},[t._v(t._s(e.pacNum))]),t._v(")\n                      ")])])])],1):t._e()])})),1)],1)])])]),t._v(" "),r("van-popup",{ref:"dormContainer",style:{height:"70%"},attrs:{round:"",position:"bottom"},on:{opened:t.openedDormDialog,close:t.closeDialog},model:{value:t.showDorm,callback:function(e){t.showDorm=e},expression:"showDorm"}},[r("div",[r("div",{staticClass:"dialog-header-title-block text-center border-bottom-1"},[r("van-row",[r("van-col",{attrs:{span:4}},[r("van-button",{staticStyle:{position:"relative",top:"-5px"},attrs:{plain:"",type:"default",size:"small"},on:{click:t.cancelDormDialog}},[t._v(t._s(t.$t("取消")))])],1),t._v(" "),r("van-col",{attrs:{span:16}},[r("span",{staticClass:"font-size-14 font-bold"},[t._v(t._s(t.dormSelTitle))])]),t._v(" "),r("van-col",{attrs:{span:4}},[r("van-button",{staticStyle:{position:"relative",top:"-5px"},attrs:{plain:"",type:"primary",size:"small"},on:{click:t.okDormDialog}},[t._v(t._s(t.$t("确认")))])],1)],1)],1),t._v(" "),r("div",{style:t.dormHeight},[r("div",[r("van-swipe",{staticClass:"my-swipe",staticStyle:{height:"200px"},attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.formDorm.imgs,(function(t,e){return r("van-swipe-item",{key:e},[r("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:t}})])})),1)],1),t._v(" "),0==t.dormSelType?[r("div",{staticClass:"padding-lr-10 padding-tb-10"},[r("div",{},[r("el-row",[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"tag-class"}),t._v(" "),r("span",{staticClass:"tag-text-class font-bold"},[t._v(t._s(t.roomTypeText))])]),t._v(" "),r("el-col",{staticClass:"text-right",attrs:{span:12}},[r("span",{staticClass:"tag-class"}),t._v(" "),r("span",{staticClass:"tag-text-class font-size-12"},[t._v(t._s(t.$t("已选")))]),t._v(" "),r("span",{staticClass:"tag-danger-class margin-left-10"}),t._v(" "),r("span",{staticClass:"tag-text-class font-size-12"},[t._v(t._s(t.$t("未选")))])])],1)],1),t._v(" "),r("div",{staticClass:"padding-lr-10 padding-tb-10"},[r("el-row",{attrs:{gutter:8}},t._l(t.formDorm.beds,(function(e,o){return r("el-col",{key:o,staticClass:"margin-bottom-10",attrs:{span:6},nativeOn:{click:function(r){!e.studentId&&t.selBedNo(r,e,o)}}},[r("div",{staticClass:"bed-item-block",class:[t.activeBedNo===o?"bed-item-block-active":"",e.studentId?"bed-item-block-selected":""]},[t._v("\n                      "+t._s(e.bedNo)+t._s(t.$t("号床"))+"\n                    ")])])})),1)],1),t._v(" "),r("div",{staticClass:"padding-lr-10 padding-tb-10"},[r("div",[r("span",{staticClass:"tag-class"}),t._v(" "),r("span",{staticClass:"tag-text-class font-bold"},[t._v(t._s(t.$t("简介")))])]),t._v(" "),r("div",{staticClass:"margin-top-10 font-size-12"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("span",[t._v(t._s(t.$t("容纳人数"))+":")]),t._v(" "),r("span",[t._v(t._s(t.formDorm.peopleNum))])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("span",[t._v(t._s(t.$t("价格"))+":")]),t._v(" "),r("span",[t._v(t._s(t.formDorm.roomPrice)+"/"+t._s(t.$t("年")))])])],1),t._v(" "),r("el-row",{staticClass:"margin-top-5"},[r("el-col",{attrs:{span:12}},[r("span",[t._v(t._s(t.$t("面积"))+":")]),t._v(" "),r("span",[t._v(t._s(t.formDorm.roomArea))])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("span",[t._v(t._s(t.$t("朝向"))+":")]),t._v(" "),r("span",[t._v(t._s(t.formDorm.roomArrow))])])],1)],1)])])]:t._e(),t._v(" "),1==t.dormSelType?[r("div",{staticClass:"padding-lr-10 padding-tb-10"},[r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"tag-class"}),t._v(" "),r("span",{staticClass:"tag-text-class font-bold"},[t._v(t._s(t.$t("价格")))])]),t._v(" "),r("el-col",{staticClass:"text-right",attrs:{span:12}},[r("span",{staticClass:"color-success font-bold"},[t._v(t._s(t.formDorm.roomPrice)+"元/年")])])],1)],1)])]:t._e()],2)])]),t._v(" "),r("van-popup",{ref:"dormContainer",style:{height:"70%"},attrs:{round:"",position:"bottom"},on:{opened:t.openedDormDialog,close:t.closeDialog},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[r("div",{staticClass:"dialog-header-title-block text-center border-bottom-1"},[r("van-row",[r("van-col",{attrs:{span:24}},[r("span",{staticClass:"font-size-14 font-bold"},[t._v(t._s(t.$t("我的订单")))])])],1)],1),t._v(" "),r("div",{staticClass:"padding-lr-10 padding-tb-10",style:t.billHeight},t._l(t.billList,(function(e,o){return r("el-card",{key:o,staticClass:"margin-bottom-20",attrs:{"body-style":{padding:"10px",background:"#EBEEF5"}}},[r("div",{staticClass:"font-size-12"},[r("el-row",{staticClass:"font-size-14"},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"fa fa-history"}),t._v(" "),r("span",[t._v(t._s(t.$moment(e.add_time).format("YYYY-MM-DD HH:mm:ss")))])]),t._v(" "),0==t.dormSelType?r("el-col",{staticClass:"text-right",attrs:{span:12}},[1==e.status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("未支付")))]):t._e(),t._v(" "),2==e.status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("已支付")))]):t._e(),t._v(" "),3==e.status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("支付失败")))]):t._e(),t._v(" "),4==e.status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("支付中")))]):t._e(),t._v(" "),7==e.status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("订单关闭")))]):t._e()]):t._e(),t._v(" "),1==t.dormSelType?r("el-col",{staticClass:"text-right",attrs:{span:12}},[1==e.order_status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("成功")))]):t._e(),t._v(" "),0==e.order_status?r("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("撤销")))]):t._e()]):t._e()],1),t._v(" "),r("el-row",{staticClass:"margin-top-5"},[r("el-col",{attrs:{span:12}},[r("span",[t._v(t._s(t.$t("姓名")))]),t._v(" "),r("span",[t._v(t._s(e.real_name))])]),t._v(" "),0==t.dormSelType?r("el-col",{staticClass:"text-right",attrs:{span:12}},[r("label",{staticClass:"color-warning font-size-16"},[t._v("¥"+t._s(e.room_price))])]):t._e(),t._v(" "),1==t.dormSelType?r("el-col",{staticClass:"text-right",attrs:{span:12}},[r("label",{staticClass:"color-warning font-size-16"},[t._v("¥"+t._s(e.pac_price))])]):t._e()],1),t._v(" "),r("el-row",{staticClass:"margin-top-5"},[r("el-col",{attrs:{span:24}},[0==t.dormSelType?[r("span",[t._v(t._s(t.$t("学号/录取号")))]),t._v(" "),r("span",{staticClass:"color-success"},[t._v(t._s(e.student_id)+" / "+t._s(e.enroll_no))])]:t._e(),t._v(" "),1==t.dormSelType?[r("span",[t._v(t._s(t.$t("学号")))]),t._v(" "),r("span",{staticClass:"color-success"},[t._v(t._s(e.student_id))])]:t._e()],2)],1),t._v(" "),r("el-row",{staticClass:"margin-top-5"},[0==t.dormSelType?r("el-col",{attrs:{span:24}},[r("span",[t._v(t._s(t.$t("已选寝室")))]),t._v(" "),r("span",{staticClass:"color-success"},[t._v(t._s(e.build_name)+"-"+t._s(e.dormitory_no)+"-"+t._s(e.bed_no)+t._s(t.$t("号床")))])]):t._e(),t._v(" "),1==t.dormSelType?r("el-col",{attrs:{span:24}},[r("span",[t._v(t._s(t.$t("已选套餐")))]),t._v(" "),r("span",{staticClass:"color-success"},[t._v(t._s(e.pac_name))])]):t._e()],1),t._v(" "),r("el-row",{staticClass:"margin-top-5"},[r("el-col",{staticClass:"text-right",attrs:{span:24}},[0!=t.dormSelType||t.detailData.status&&1!=t.detailData.check_cancel||1!=e.status?t._e():r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){return t.setBillStatus(o,e)}}},[t._v(t._s(t.$t("立即撤销")))]),t._v(" "),1!=t.dormSelType||t.detailData.status&&1!=t.detailData.check_cancel||1!=e.order_status?t._e():r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){return t.setBillStatus(o,e)}}},[t._v(t._s(t.$t("立即撤销")))])],1)],1)],1)])})),1)])],1)}),[],!1,null,"3875e1c2",null);e.default=component.exports}}]);