{"version":3,"file":"pages/newStudent/studentIndex.js","sources":["webpack:///./utils/mixinsBridge.js","webpack:///./pages/newStudent/studentIndex.vue?6ae1","webpack:///./static/img/bg-student-info.png","webpack:///./pages/newStudent/studentIndex.vue?02c8","webpack:///./pages/newStudent/studentIndex.vue?2395","webpack:///./pages/newStudent/studentIndex.vue?9ce9","webpack:///./pages/newStudent/studentIndex.vue","webpack:///./pages/newStudent/studentIndex.vue?55db","webpack:///./pages/newStudent/studentIndex.vue?0257"],"sourcesContent":["import global from \"~/utils/global\";\nimport {common} from \"~/utils/api/url\";\nimport {\n  setChildren,\n  setCollegeChildren,\n  setSchoolBuildChildren,\n  setDormBuildChildren,\n  setDeptChildren,\n  MessageSuccess, MessageError\n} from \"~/utils/utils\";\n\nexport default {\n  data (){\n    return {\n      testLogin: '',\n      value: '',\n      testDefault: '',\n      navHeight: 0,\n      globalAppShow: '',\n      isAndroid: false,\n      isIos: false,\n    }\n  },\n  mounted(){\n    this.getUrl();\n    this.initBridage();\n  },\n  created() {\n\n  },\n  methods: {\n    getUrl(){\n      this.loginUserAppType = this.$route.query.userType;\n      this.navHeight = this.$route.query.navH ? this.$route.query.navH : 0;\n      this.globalAppShow = this.$route.query.appType;\n    },\n    returnGlobalMain(value){\n      let _self = this;\n      if (this.globalAppShow == 'android') {\n        this.setupWebViewJavascriptBridge(function(bridge) {\n          //JS 调用 OC 的方法，方法名就是 OC 中提前注册的方法\n          bridge.callHandler('returnGlobalMain', {'key': value}, function responseCallback(responseData) {\n\n          });\n        });\n      }\n      if (this.globalAppShow == 'ios') {\n        this.setupWebViewJavascriptBridge(function(bridge) {\n          //JS 调用 OC 的方法，方法名就是 OC 中提前注册的方法\n          bridge.callHandler('returnGlobalMain', {'key': value}, function responseCallback(responseData) {\n\n          });\n        });\n      }\n    },\n    setupWebViewJavascriptBridge(callback) {\n      let _self = this;\n      //Android使用\n      if (this.globalAppShow == 'android') {\n        if (window.WebViewJavascriptBridge) {\n          callback(window.WebViewJavascriptBridge)\n        } else {\n          document.addEventListener(\n            'WebViewJavascriptBridgeReady',\n            () => {\n              callback(window.WebViewJavascriptBridge)\n            },\n            false\n          )\n        }\n      }else if(this.globalAppShow == 'ios'){\n        if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }\n        if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }\n        window.WVJBCallbacks = [callback];\n        var WVJBIframe = document.createElement('iframe');\n        WVJBIframe.style.display = 'none';\n        WVJBIframe.src = 'https://__bridge_loaded__';\n        //WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';\n        document.documentElement.appendChild(WVJBIframe);\n        setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)\n      }\n    },\n    initBridage(){\n      let _self = this;\n      try {\n        this.setupWebViewJavascriptBridge(function(bridge) {\n          if (_self.globalAppShow == 'android') {\n            //初始化\n            bridge.init((message, responseCallback) => {\n              var data = {\n                'Javascript Responds': 'Wee!'\n              }\n              responseCallback(data)\n            })\n          }\n        })\n      }catch (e){\n\n      }\n    }\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./studentIndex.vue?vue&type=style&index=0&id=78d2f96a&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"2c5e8322\", content, true, context)\n};","module.exports = __webpack_public_path__ + \"img/bg-student-info.d8c660a.png\";","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./studentIndex.vue?vue&type=style&index=0&id=78d2f96a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./studentIndex.vue?vue&type=style&index=0&id=78d2f96a&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header-title-block[data-v-78d2f96a]{height:60px;line-height:60px;width:100%}.content-block[data-v-78d2f96a]{border-top-left-radius:15px;border-top-right-radius:15px;background:#fff;width:100%}.app-title-border-tag[data-v-78d2f96a]{width:5px;height:25px;background:#1ea084;display:inline-block}.notice-list-item[data-v-78d2f96a]{height:45px;line-height:45px}.bg-student-info-block[data-v-78d2f96a]{height:180px;width:100%}.text-display-line[data-v-78d2f96a]{width:80px;top:4px}.name-display-line[data-v-78d2f96a],.text-display-line[data-v-78d2f96a]{display:inline-block;position:relative}.name-display-line[data-v-78d2f96a]{max-width:200px;top:6px}.top-block[data-v-78d2f96a]{background-image:linear-gradient(0deg,#fff,#4bc66b);position:relative}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.loginUserAppType == 4 ? 'bg-app-success_teacher' : 'bg-app-success'))+(_vm._ssrStyle(null,{height: _vm.navHeight+'px'}, null))+\" data-v-78d2f96a></div> \"),_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"header-title-block\",_vm.loginUserAppType == 4 ? 'bg-app-success_teacher' : 'bg-app-success'))+\" data-v-78d2f96a>\",\"</div>\",[_c('van-col',{attrs:{\"span\":\"2\"}},[(_vm.globalAppShow && _vm.globalAppShow != '')?_c('div',{staticClass:\"text-left padding-lr-10 color-white\"},[_c('span',{staticClass:\"font-bold font-size-14\",on:{\"click\":_vm.returnIndex}},[_c('i',{staticClass:\"fa fa-chevron-left\"}),_vm._v(\"\\n              \"+_vm._s(_vm.$t(\"返回\"))+\"\\n            \")])]):_c('div',[_vm._v(\"\\n           \\n        \")])]),_vm._ssrNode(\" \"),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('div',{staticClass:\"text-center color-white font-size-16 font-bold\"},[_c('span',[_vm._v(_vm._s(_vm.$t('智慧迎新')))])])]),_vm._ssrNode(\" \"),_c('van-col',{attrs:{\"span\":\"2\"}},[_vm._v(\"\\n         \\n      \")])],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"content-block\\\" data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"padding-lr-10 top-block\\\" data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<div data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"bg-student-info-block\\\" style=\\\"position: relative\\\" data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",require(\"static/img/bg-student-info.png\")))+\" style=\\\"height: 180px; width: 100%;position: absolute;left: 0; z-index: 500;border-radius: 5px; background: #fefefe\\\" data-v-78d2f96a> \"),_vm._ssrNode(\"<div class=\\\"padding-lr-5 padding-top-5\\\" style=\\\"position: absolute;top:0px;z-index: 600;width: 100%;\\\" data-v-78d2f96a>\",\"</div>\",[_c('van-row',[_c('van-col',{attrs:{\"span\":\"16\"}},[_c('div',{staticClass:\"color-muted font-bold font-size-12 text-left\"},[_c('span',[_c('label',{staticClass:\"color-sub-grand\"},[_vm._v(_vm._s(_vm.currentEnrollYear))]),_vm._v(\" \"),_c('label',{staticClass:\"color-danger\"},[_vm._v(_vm._s(_vm.$t(\"迎新倒计时\"))+\":\"+_vm._s(_vm.currentEnrollTime))])])])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"color-muted font-bold font-size-12 text-right\"},[(_vm.completedStatus != '')?_c('van-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"\\n                      \"+_vm._s(_vm.$t(\"所有环节\"))+\"\\n                      :\\n                      \"),(_vm.completedStatus == true)?_c('label',[_vm._v(_vm._s(_vm.$t(\"已完成\")))]):_vm._e(),_vm._v(\" \"),(_vm.completedStatus == false)?_c('label',[_vm._v(_vm._s(_vm.$t(\"未完成\")))]):_vm._e()]):_vm._e()],1)])],1),_vm._ssrNode(\" \"),_c('van-row',{staticClass:\"margin-top-20\"},[_c('van-col',{attrs:{\"span\":\"6\"}},[_c('div',[_c('van-image',{attrs:{\"width\":\"90\",\"height\":\"120\",\"src\":_vm.headLogo}})],1)]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"10\"}},[_c('div',[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.realName,\"placement\":\"top\"}},[_c('span',{staticClass:\"font-size-18 color-sub-title moon-content-text-ellipsis-class name-display-line font-bold\"},[_vm._v(_vm._s(_vm.realName))])]),_vm._v(\" \"),(_vm.sex == 1)?_c('span',{staticClass:\"color-grand margin-left-5 font-bold\"},[_c('van-tag',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_c('label',{staticClass:\"fa fa-mars\"})])],1):_vm._e(),_vm._v(\" \"),(_vm.sex == 2)?_c('span',{staticClass:\"color-grand margin-left-5 font-bold\"},[_c('van-tag',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_c('label',{staticClass:\"fa fa-venus\"})])],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"margin-top-10 font-size-12\"},[_c('span',{staticClass:\"color-sub-title font-bold\"},[_vm._v(_vm._s(_vm.$t(\"学号\")))]),_vm._v(\" \"),_c('span',{staticClass:\"color-muted moon-content-text-ellipsis-class text-display-line\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.stuNo,\"placement\":\"top-start\"}},[_c('span',[_vm._v(_vm._s(_vm.stuNo))])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-top-5 font-size-12\"},[_c('span',{staticClass:\"color-sub-title font-bold\"},[_vm._v(_vm._s(_vm.$t(\"学院\")))]),_vm._v(\" \"),_c('span',{staticClass:\"color-muted moon-content-text-ellipsis-class text-display-line\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":_vm.collegeName,\"placement\":\"top-start\"}},[_c('span',[_vm._v(_vm._s(_vm.collegeName))])])],1)])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"text-center color-muted\",on:{\"click\":_vm.drCodeManage}},[_c('div',[_c('van-icon',{attrs:{\"name\":\"qr\",\"size\":\"90\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"font-size-12 margin-top-5\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"我的二维码\")))])])])])],1)],2)],2)])]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div\"+(_vm._ssrStyle(null,_vm.divHeight11, null))+\" data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"margin-top-10\\\" data-v-78d2f96a>\",\"</div>\",[_c('van-grid',{attrs:{\"gutter\":10}},[_c('van-grid-item',{attrs:{\"text\":_vm.$t('流程引导')},on:{\"click\":function($event){return _vm.serverBlock($event, 'flow')}}},[_c('div',{attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_c('van-icon',{attrs:{\"size\":\"30\",\"name\":\"label-o\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"moon-content-text-ellipsis-class margin-top-10 text-center font-size-12\",staticStyle:{\"width\":\"60px\"},attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(_vm.$t(\"流程引导\")))])]),_vm._v(\" \"),_vm._l((_vm.serverAppList),function(item,index){return (index < 6)?_c('van-grid-item',{key:index,attrs:{\"icon\":\"photo-o\"},on:{\"click\":function($event){return _vm.serverBlock($event, item)}}},[_c('div',{staticClass:\"text-center\",attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_c('van-image',{attrs:{\"width\":\"30\",\"height\":\"30\",\"src\":item.link_logo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"moon-content-text-ellipsis-class margin-top-10 text-center font-size-12\",staticStyle:{\"width\":\"60px\"},attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(item.link_name))])]):_vm._e()}),_vm._v(\" \"),_c('van-grid-item',{attrs:{\"text\":_vm.$t('全部环节')},on:{\"click\":function($event){return _vm.serverBlock($event, 'all')}}},[_c('div',{attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_c('van-icon',{attrs:{\"size\":\"30\",\"name\":\"apps-o\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"moon-content-text-ellipsis-class margin-top-10 text-center font-size-12\",staticStyle:{\"width\":\"60px\"},attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(_vm._s(_vm.$t(\"全部环节\")))])])],2)],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20 padding-lr-10\\\" data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<div data-v-78d2f96a>\",\"</div>\",[_c('van-row',[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-left\"},[_c('span',{staticClass:\"app-title-border-tag\"}),_vm._v(\" \"),_c('span',{staticClass:\"font-bold\",staticStyle:{\"position\":\"relative\",\"top\":\"-8px\"}},[_vm._v(_vm._s(_vm.$t(\"迎新公告\")))])])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-right\"},[_c('i',{staticClass:\"fa fa-list font-size-14\",staticStyle:{\"position\":\"relative\",\"top\":\"5px\"}})])])],1)],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-78d2f96a>\",\"</div>\",[(_vm.noticeAppList.length == 0)?_c('van-empty',{attrs:{\"image-size\":\"60\",\"description\":\"暂无数据\"}}):_vm._l((_vm.noticeAppList),function(item,index){return _c('div',{key:index,staticClass:\"notice-list-item border-bottom-1\"},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-left moon-content-text-ellipsis-class\"},[_c('span',[_vm._v(\"x\")])])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-right color-muted\"},[_c('span',[_vm._v(\"x\")])])])],1)],1)})],2)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20 padding-lr-10\\\" data-v-78d2f96a>\",\"</div>\",[_vm._ssrNode(\"<div data-v-78d2f96a>\",\"</div>\",[_c('van-row',[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-left\"},[_c('span',{staticClass:\"app-title-border-tag\"}),_vm._v(\" \"),_c('span',{staticClass:\"font-bold\",staticStyle:{\"position\":\"relative\",\"top\":\"-8px\"}},[_vm._v(_vm._s(_vm.$t(\"常见问题\")))])])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-right\"},[_c('i',{staticClass:\"fa fa-list font-size-14\",staticStyle:{\"position\":\"relative\",\"top\":\"5px\"}})])])],1)],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-78d2f96a>\",\"</div>\",[(_vm.askAppList.length == 0)?_c('van-empty',{attrs:{\"image-size\":\"80\",\"description\":\"暂无数据\"}}):_vm._l((_vm.askAppList),function(item,index){return _c('div',{key:index,staticClass:\"notice-list-item border-bottom-1\"},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-left moon-content-text-ellipsis-class\"},[_c('span')])]),_vm._v(\" \"),_c('van-col',{attrs:{\"span\":\"12\"}},[_c('div',{staticClass:\"text-right color-muted\"},[_c('span')])])],1)],1)})],2)],2)],2)],2),_vm._ssrNode(\" \"),_c('van-dialog',{attrs:{\"showConfirmButton\":false,\"close-on-click-overlay\":true},model:{value:(_vm.showDr),callback:function ($$v) {_vm.showDr=$$v},expression:\"showDr\"}},[_c('div',{staticClass:\"padding-lr-10 padding-tb-10 text-center\"},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"src\":_vm.g_QrCode}})],1)]),_vm._ssrNode(\" \"),_c('van-dialog',{attrs:{\"showConfirmButton\":false,\"close-on-click-overlay\":true},model:{value:(_vm.showSign),callback:function ($$v) {_vm.showSign=$$v},expression:\"showSign\"}},[_c('div',{staticClass:\"padding-lr-10 padding-tb-10\"},[_c('div',[_c('el-form',{attrs:{\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('核验人员'),\"prop\":\"phone\"}},[_c('label',[_vm._v(_vm._s(_vm.formSign.checkUserName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('报到类型'),\"prop\":\"phone\"}},[(_vm.formSign.checkType == 0)?_c('label',[_vm._v(_vm._s(_vm.$t(\"人工\")))]):_vm._e(),_vm._v(\" \"),(_vm.formSign.checkType == 1)?_c('label',[_vm._v(_vm._s(_vm.$t(\"扫码\")))]):_vm._e(),_vm._v(\" \"),(_vm.formSign.checkType == 2)?_c('label',[_vm._v(_vm._s(_vm.$t(\"人脸\")))]):_vm._e(),_vm._v(\" \"),(_vm.formSign.checkType == 3)?_c('label',[_vm._v(_vm._s(_vm.$t(\"自动\")))]):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('是否准时'),\"prop\":\"phone\"}},[(_vm.formSign.onTime)?_c('label',[_vm._v(_vm._s(_vm.$t(\"是\")))]):_vm._e(),_vm._v(\" \"),(!_vm.formSign.onTime)?_c('label',[_vm._v(_vm._s(_vm.$t(\"否\")))]):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('报到时间'),\"prop\":\"phone\"}},[_c('label',[_vm._v(_vm._s(_vm.$moment(_vm.formSign.checkTime).format(\"YYYY-MM-DD HH:mm\")))])])],1)],1)])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {common} from \"../../utils/api/url\";\n\nimport mixins from \"~/utils/mixins\";\nimport mixinsBridge from \"~/utils/mixinsBridge\";\nexport default {\n  name: 'studentIndex',\n  layout: 'defaultAppScreen',\n  mixins: [mixins,mixinsBridge],\n  data(){\n    return {\n      sex: '',\n      active: 6,\n      serverAppList: [],\n      noticeAppList: [],\n      askAppList: [],\n      currentEnrollYear: '',\n      currentEnrollTime: '00天00时00分00秒',\n      collegeName: '',\n      majorName: '',\n      className: '',\n      stuNo: '',\n      headLogo: '',\n      showDr: false,\n      showSign: false,\n      completedStatus: '',\n      detailData: '',\n      formSign: {\n        id: '',\n        onTime: '',\n        checkTime: '',\n        checkType: '',\n        checkUserName: ''\n      }\n    }\n  },\n  mounted() {\n\n  },\n  created() {\n    this.active = this.$route.query.activeType ? this.$route.query.activeType : 6;\n    if (this.$route.query.sessionId){\n      this.initAppConfig();\n    }else {\n      this.pageType = this.$route.query.type ? this.$route.query.type : \"student\";\n      if (process.browser) {\n        localStorage.setItem(\"pageType\", this.pageType);\n      }\n    }\n    setTimeout(()=>{\n      this.getCureentEnrollInfo();\n      this.initAppServer();\n    },1000);\n  },\n  methods: {\n    layoutInit(){\n\n    },\n    async initAppConfig(){\n      await this.autoLoginApp();\n      await this.queryStudentTimeInfo();\n      //await this.getSessionInfo();\n    },\n    initAppRecommend(){\n      let params = {};\n      this.$axios.get(common.server_list_list3, {params: params}).then(res => {\n        if (res.data.data){\n          this.serverAppList = res.data.data;\n        }\n      });\n    },\n    async initAppServer(){\n      await this.getSessionInfo();\n      this.initInfo();\n      this.initStudentEnroll();\n    },\n    initInfo(){\n      let params = {\n        userId: this.loginUserId\n      };\n      this.$axios.get(common.enroll_checkin_student_detail, {params: params}).then(res => {\n        if (res.data.data){\n          this.detailData = res.data.data;\n          this.collegeName = res.data.data.college_name;\n          this.className = res.data.data.class_name;\n          this.stuNo = res.data.data.student_id;\n          this.majorName = res.data.data.major_name;\n          this.sex = res.data.data.sex;\n          this.headLogo = res.data.data.photo_simple;\n          this.completedStatus = res.data.data.completed_link_status;\n        }\n      });\n    },\n    initStudentEnroll(){\n      let params = {\n        userId: this.loginUserId,\n      };\n      this.$axios.get(common.server_enroll_app_process_current, {params: params}).then(res => {\n        if (res.data.data){\n          this.serverAppList = res.data.data.linkList;\n        }\n      });\n    },\n    getCureentEnrollInfo(){\n      let params = {};\n      this.$axios.get(common.enroll_current_time, {params: params}).then(res => {\n        if (res.data.data){\n          this.currentEnrollYear = res.data.data.enrollName;\n          this.setTimeLoop(res.data.data.endTime)\n        }\n      });\n    },\n    setTimeLoop(data){\n      let time =this.$moment(data).diff(this.$moment())\n      if(time <= 0){\n        clearInterval(this.timer);\n        return\n      }\n      let t = time / 1000;\n      let d = Math.floor(t / (24 * 3600));  //剩余天数，如果需要可以自行补上\n      let h = Math.floor((t - 24 * 3600 * d) / 3600) + d*24;  //不需要天数，把天数转换成小时\n      let _h = Math.floor((t - 24 * 3600 * d) / 3600)  //保留天数后得小时\n      let m = Math.floor((t - 24 * 3600 * d - _h * 3600) / 60);\n      let s = Math.floor((t - 24 * 3600 * d - _h * 3600 - m * 60));\n\n      let hh = String(h).length == 1? '0'+String(h):String(h)\n      let mm = String(m).length == 1? '0'+String(m):String(m)\n      let ss = String(s).length == 1? '0'+String(s):String(s)\n\n\n      this.currentEnrollTime = d + \"天\" + _h + \"小时\" + mm + \"分\";\n    },\n    serverBlock(event, item){\n      console.log(item);\n      if (item == 'all'){\n        this.$router.push({\n          path: '/newStudent/studentAllSever',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item == 'order'){\n        this.$router.push({\n          path: '/newStudent/studentOrder',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item == 'flow'){\n        this.$router.push({\n          path: '/newStudent/studentGuide',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 0){\n        this.$router.push({\n          path: '/newStudent/studentStation',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 4){\n        this.$router.push({\n          path: '/newStudent/studentInfo',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 3){\n        this.$router.push({\n          path: '/newStudent/studentBill',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 2){\n        this.$router.push({\n          path: '/newStudent/studentDorm',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            dormSelType: item.ruleTypeInfo.rule_type,\n            ruleId: item.ruleTypeInfo.rule_id,\n            pacRegions: JSON.stringify(item.ruleTypeInfo.pacRegions),\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 9){\n        this.$router.push({\n          path: '/newStudent/studentForm',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            linkId: item.id,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 5){\n        let otherTitle = '';\n        if (item.other_setting && item.other_setting != ''){\n          otherTitle = JSON.parse(item.other_setting).checkinSheetName;\n        }\n        this.$router.push({\n          path: '/newStudent/studentOrder',\n          query: {\n            id: item.id,\n            activeType: this.active,\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            title: otherTitle,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (item.link_sub_type == 1){\n        this.initSign();\n        this.showSign = true;\n      }\n    },\n    activeTabMenu(name){\n      this.noticeAppList = [];\n      this.serverAppList = [];\n      if (name == 5){\n        this.$router.push({\n          path: '/app/appMyNotice',\n          query: {\n            id: parseInt(name),\n            userType: this.loginUserAppType,\n            navH: this.navHeight,\n            appType: this.globalAppShow,\n            sessionId: this.$route.query.sessionId\n          }\n        });\n      }else if (name == 6){\n        this.active = name;\n        this.initAppRecommend();\n      }else {\n        this.active = name;\n        this.initAppServer();\n      }\n    },\n    drCodeManage(){\n      this.getUserQrcode(this.loginUserId);\n      this.showDr = true;\n    },\n    initSign(){\n      let params = {\n        userId: this.loginUserId,\n      };\n      this.$axios.get(common.server_enroll_app_student_checkin_get, {params: params}).then(res => {\n        if (res.data.data){\n          this.formSign = {\n            id: '',\n            onTime: res.data.data.on_time,\n            checkTime: res.data.data.check_time,\n            checkType: res.data.data.check_type,\n            checkUserName: res.data.data.check_user_name,\n          };\n        }\n      });\n    },\n    returnIndex(){\n      this.returnGlobalMain(1);\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./studentIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./studentIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./studentIndex.vue?vue&type=template&id=78d2f96a&scoped=true&\"\nimport script from \"./studentIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./studentIndex.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./studentIndex.vue?vue&type=style&index=0&id=78d2f96a&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"78d2f96a\",\n  \"0e065b31\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AAtEA;AAnBA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAjBA;AAyBA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA,mBAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAFA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAYA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAvPA;AAjDA;;ACxPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}